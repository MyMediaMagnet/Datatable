<h1>RESTful Notes Getting Started Guide</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#introduction">Introduction</a></li>
<li><a href="#getting-started">Getting started</a>
<ul class="sectlevel1">
<li><a href="#running-the-service">Running the service</a></li>
<li><a href="#creating-a-note">Creating a note</a></li>
<li><a href="#creating-a-tag">Creating a tag</a></li>
<li><a href="#tagging-a-note">Tagging a note</a>
<ul class="sectlevel2">
<li><a href="#creating-a-tagged-note">Creating a tagged note</a></li>
<li><a href="#tagging-an-existing-note">Tagging an existing note</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="introduction"><a class="link" href="#introduction">Introduction</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RESTful Notes is a RESTful web service for creating and storing notes. It uses hypermedia
to describe the relationships between resources and to allow navigation between them.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="getting-started"><a class="link" href="#getting-started">Getting started</a></h2>
<div class="sectionbody">
<div class="sect1">
<h2 id="running-the-service"><a class="link" href="#running-the-service">Running the service</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>RESTful Notes is written using <a href="http://projects.spring.io/spring-boot">Spring Boot</a> which
makes it easy to get it up and running so that you can start exploring the REST API.</p>
</div>
<div class="paragraph">
<p>The first step is to clone the Git repository:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ git clone https://github.com/spring-projects/spring-restdocs</code></pre>
</div>
</div>
<div class="paragraph">
<p>Once the clone is complete, you&#8217;re ready to get the service up and running:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash" data-lang="bash">$ cd samples/rest-notes-spring-hateoas
$ ./gradlew build
$ java -jar build/libs/*.jar</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can check that the service is up and running by executing a simple request using
cURL:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/index/1/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>This request should yield the following response:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/index/1/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>Note the <code>_links</code> in the JSON response. They are key to navigating the API.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-note"><a class="link" href="#creating-a-note">Creating a note</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now that you&#8217;ve started the service and verified that it works, the next step is to use
it to create a new note. As you saw above, the URI for working with notes is included as
a link when you perform a <code>GET</code> request against the root of the service:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/index/1/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>To create a note you need to execute a <code>POST</code> request to this URI, including a JSON
payload containing the title and body of the note:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/1/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>The response from this request should have a status code of <code>201 Created</code> and contain a
<code>Location</code> header whose value is the URI of the newly created note:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/1/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>To work with the newly created note you use the URI in the <code>Location</code> header. For example
you can access the note&#8217;s details by performing a <code>GET</code> request:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/2/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>This request will produce a response with the note&#8217;s details in its body:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/2/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>Note the <code>note-tags</code> link which we&#8217;ll make use of later.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="creating-a-tag"><a class="link" href="#creating-a-tag">Creating a tag</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>To make a note easier to find, it can be associated with any number of tags. To be able
to tag a note, you must first create the tag.</p>
</div>
<div class="paragraph">
<p>Referring back to the response for the service&#8217;s index, the URI for working with tags is
include as a link:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/index/1/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>To create a tag you need to execute a <code>POST</code> request to this URI, including a JSON
payload containing the name of the tag:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/3/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>The response from this request should have a status code of <code>201 Created</code> and contain a
<code>Location</code> header whose value is the URI of the newly created tag:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/3/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>To work with the newly created tag you use the URI in the <code>Location</code> header. For example
you can access the tag&#8217;s details by performing a <code>GET</code> request:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/4/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>This request will produce a response with the tag&#8217;s details in its body:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/4/http-response.adoc[]</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="tagging-a-note"><a class="link" href="#tagging-a-note">Tagging a note</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>A tag isn&#8217;t particularly useful until it&#8217;s been associated with one or more notes. There
are two ways to tag a note: when the note is first created or by updating an existing
note. We&#8217;ll look at both of these in turn.</p>
</div>
<div class="sect2">
<h3 id="creating-a-tagged-note"><a class="link" href="#creating-a-tagged-note">Creating a tagged note</a></h3>
<div class="paragraph">
<p>The process is largely the same as we saw before, but this time, in addition to providing
a title and body for the note, we&#8217;ll also provide the tag that we want to be associated
with it.</p>
</div>
<div class="paragraph">
<p>Once again we execute a <code>POST</code> request, but this time, in an array named tags, we include
the URI of the tag we just created:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/5/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>Once again, the response&#8217;s <code>Location</code> header tells use the URI of the newly created note:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/5/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>As before, a <code>GET</code> request executed against this URI will retrieve the note&#8217;s details:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/6/curl-request.adoc[]
Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/6/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>To see the note&#8217;s tags, execute a <code>GET</code> request against the URI of the note&#8217;s
<code>note-tags</code> link:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/7/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>The response shows that, as expected, the note has a single tag:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/7/http-response.adoc[]</p>
</div>
</div>
<div class="sect2">
<h3 id="tagging-an-existing-note"><a class="link" href="#tagging-an-existing-note">Tagging an existing note</a></h3>
<div class="paragraph">
<p>An existing note can be tagged by executing a <code>PATCH</code> request against the note&#8217;s URI with
a body that contains the array of tags to be associated with the note. We&#8217;ll use the
URI of the untagged note that we created earlier:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/8/curl-request.adoc[]</p>
</div>
<div class="paragraph">
<p>This request should produce a <code>204 No Content</code> response:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/8/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>When we first created this note, we noted the <code>note-tags</code> link included in its details:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/2/http-response.adoc[]</p>
</div>
<div class="paragraph">
<p>We can use that link now and execute a <code>GET</code> request to see that the note now has a
single tag:</p>
</div>
<div class="paragraph">
<p>Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/9/curl-request.adoc[]
Unresolved directive in &lt;stdin&gt; - include::{snippets}/creating-a-note/9/http-response.adoc[]</p>
</div>
</div>
</div>
</div>
</div>
</div>